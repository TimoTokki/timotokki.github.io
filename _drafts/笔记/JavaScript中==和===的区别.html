<html>
<head>
  <title>JavaScript中==和===的区别</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/275193; Windows/6.3.9600;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="14979"/>
<h1>JavaScript中==和===的区别</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/3/7 12:52</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2016/3/7 12:53</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499190108eec0bdf14e704a09935cd112e501e31a000"><i>http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499190108eec0bdf14e704a09935cd112e501e31a000</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;line-height:20px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;color:rgb(68, 68, 68);background:rgb(255, 255, 255);"><div style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;color:rgb(102, 102, 102);background-color:rgb(255, 255, 255);"><div><div style="box-sizing:border-box;"><div style="flex-wrap:wrap;list-style:none;"><div style="flex:0 0 auto;box-sizing:border-box;"><div><div style="width:100%;"><div><p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">要特别注意相等运算符<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">==</code>。JavaScript在设计时，有两种比较运算符：</p>
<p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">第一种是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">==</code>比较，它会自动转换数据类型再比较，很多时候，会得到非常诡异的结果；</p>
<p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">第二种是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">===</code>比较，它不会自动转换数据类型，如果数据类型不一致，返回<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">false</code>，如果一致，再比较。</p>
<p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">由于JavaScript这个设计缺陷，<em style="color:rgb(221, 0, 85);">不要</em>使用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">==</code>比较，始终坚持使用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">===</code>比较。</p>
<p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">另一个例外是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">NaN</code>这个特殊的Number与所有其他值都不相等，包括它自己：</p>
<pre style="font-family:Consolas, monospace, serif;margin:0px 0px 15px;padding:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:18px;margin-top:15px;color:rgb(68, 68, 68);tab-size:4;overflow:auto;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);word-break:break-all;word-wrap:break-word;white-space:pre-wrap;"><code><span>NaN</span> === <span>NaN</span>; <span style="color:rgb(153, 153, 136);font-style:italic;">// false</span>
</code></pre><p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">唯一能判断<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">NaN</code>的方法是通过<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221, 0, 85);white-space:nowrap;padding:0px 4px;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);">isNaN()</code>函数：</p>
<pre style="font-family:Consolas, monospace, serif;margin:0px 0px 15px;padding:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:18px;margin-top:15px;color:rgb(68, 68, 68);tab-size:4;overflow:auto;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);word-break:break-all;word-wrap:break-word;white-space:pre-wrap;"><code>isNaN(<span style="color:rgb(0, 153, 153);">NaN</span>); <span style="color:rgb(0, 153, 38);">//</span> <span style="color:rgb(51, 51, 51);font-weight:bold;">true</span>
</code></pre><p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">最后要注意浮点数的相等比较：</p>
<pre style="font-family:Consolas, monospace, serif;margin:0px 0px 15px;padding:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:18px;margin-top:15px;color:rgb(68, 68, 68);tab-size:4;overflow:auto;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);word-break:break-all;word-wrap:break-word;white-space:pre-wrap;"><code><span style="color:rgb(0, 153, 153);">1</span> / <span style="color:rgb(0, 153, 153);">3</span> === (<span style="color:rgb(0, 153, 153);">1</span> - <span style="color:rgb(0, 153, 153);">2</span> / <span style="color:rgb(0, 153, 153);">3</span>); <span style="color:rgb(0, 153, 38);">//</span> <span style="color:rgb(51, 51, 51);font-weight:bold;">false</span>
</code></pre><p style="margin:0px 0px 15px;margin-top:15px;word-wrap:break-word;white-space:pre-wrap;">这不是JavaScript的设计缺陷。浮点数在运算过程中会产生误差，因为计算机无法精确表示无限循环小数。要比较两个浮点数是否相等，只能计算它们之差的绝对值，看是否小于某个阈值：</p>
<pre style="font-family:Consolas, monospace, serif;margin:0px 0px 15px;padding:10px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:12px;line-height:18px;margin-top:15px;color:rgb(68, 68, 68);tab-size:4;overflow:auto;border:1px solid rgb(221, 221, 221);border-radius:3px;background:rgb(250, 250, 250);word-break:break-all;word-wrap:break-word;white-space:pre-wrap;"><code><span style="color:rgb(0, 153, 153);">Math</span>.abs(<span style="color:rgb(0, 153, 153);">1</span> / <span style="color:rgb(0, 153, 153);">3</span> - (<span style="color:rgb(0, 153, 153);">1</span> - <span style="color:rgb(0, 153, 153);">2</span> / <span style="color:rgb(0, 153, 153);">3</span>)) &lt; <span style="color:rgb(0, 153, 153);">0</span>.<span style="color:rgb(0, 153, 153);">0000001</span>; <span style="color:rgb(0, 153, 38);">//</span> <span style="color:rgb(51, 51, 51);font-weight:bold;">true</span>
</code></pre></div></div></div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 