<html>
<head>
  <title>cin详解（cin.get()、cin.getline()、cin.clear()、cin.sync()）_一去丶二三里_新浪博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/275193; Windows/6.3.9600;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="14399"/>
<h1>cin详解（cin.get()、cin.getline()、cin.clear()、cin.sync()）_一去丶二三里_新浪博客</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/1/15 11:38</i></td></tr>
<tr><td><b>标签：</b></td><td><i>IT, 减藏</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.sina.com.cn/s/blog_a6fb6cc90101bg1n.html"><i>http://blog.sina.com.cn/s/blog_a6fb6cc90101bg1n.html</i></a></td></tr>
</table>
</div>
<br/>

<div><span><br/><div style="font-size: 16px"><div><div style="list-style:none;font-size:12px;font-family:Verdana, 宋体, sans-serif;color:rgb(73, 73, 73);background-color:rgb(226, 226, 226);"><div style="background-image:none;background-position:50% 100%;background-repeat:no-repeat;"><div style="background-image:url(&quot;../../../image/33/33_2/images/sinablogb.jpg&quot;);background-position:50% 0%;background-repeat:no-repeat;"><div><div style="overflow:hidden;"><div style="text-align:left;overflow:hidden;"><div style="background-image:url(&quot;../../../image/33/33_2/images/modelbody.png&quot;);background-position:1450px 0px;"><div style="zoom:1;"><div style="font-size:14px;overflow:hidden;font-family:simsun;word-wrap:normal;word-break:normal;line-height:150%;">
			<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
从现在开始，从零开始，全心全意学习C++。不积跬步，无以至千里；不积小流，无以成江海！</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
在C中，输入输出用scanf和printf，在输入数据的同时还需说明数据的类型，如果输入数据较多，那就很麻烦，而C++中也有相似的东西cin和cout，它们来自C++的一个名叫&quot;
iostream&quot;的类库。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
iostream是由istream(输入流)和ostream(输出流)派生.所以在iostream中就有了输入和输出的相关对象:<br/>

1、cin 表示标准输入(standard input)的istream类对象，cin使我们可以从设备读取数据。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">2、cout 表示标准输出(standard
output)的ostream类对象。对应于标准输出流，默认情况下是显示器。这是一个被缓冲的输出，可以被重定向。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">3、cerr
对应标准错误流，用于显示错误消息。默认情况下被关联到标准输出流，但它不被缓冲，也就说错误消息可以直接发送到显示器，而无需等到缓冲区或者新的换行符时，才被显示。一般情况下不被重定向。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">cout与cerr的区别：cout的输出可以重定向到一个文件中，而cerr必须输出在显示器上。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
暂时先介绍那么多，以下主要介绍cin.get()、cin.getline()、cin.clear()、cin.sync()等的用法。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
首先看看cin.get()，它是一个读取单个字符的方法。字符变量=cin.get()，相当于cin.get(字符变量)。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例一：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span><br/>
using namespace std;</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">cstr;</span><br/>
 <span></span> cstr = cin.get(); <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//读取单个字符，在屏幕输入，相当于cin.get(cstr);</span><br/>
 <span></span> cout&lt;&lt;cstr&lt;&lt;endl; <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出刚刚载入的单个字符</span><br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;); <span></span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//进行暂停，否则会一闪而过</span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">运行程序后</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输入：a 输出：a</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">但当输入的为多个英文字符时，那又会如何呢？</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输入：abcd 输出：a</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">结论：cin.get()只能读取第一个字符</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例二：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span><br/>
using namespace std;</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char str1</span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">;<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char <font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;">str2</font></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">;</span></span><br/>
 <span></span> <font color="#A52A2A" style="word-wrap:normal;word-break:normal;line-height:150%;">str1</font> = cin.get();
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//读取单个字符,在屏幕输入<br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span> str2 =
cin.get();</span><br/>
 <span></span> cout&lt;&lt;<font color="#A52A2A" style="word-wrap:normal;word-break:normal;line-height:150%;">str1&lt;&lt;</font>&lt;&lt;str2&lt;&lt;endl; <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出刚刚载入的单个字符</span><br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;); <span></span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//进行暂停，否则会一闪而过</span><br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">运行程序后</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输入：abcd 输出：ab<br/>
既然cin.get()是读取第一个字符，那str2为什么不也是a呢？<br/>
原理如下：<br/>
 <span></span> <span></span> <span></span>
在cin这个对象里,有一个储存字符的流，可以想象成缓冲区，事实上是cin里封装的一个东西.当我们在程序上输入字符后，对象cin获得了我们输入的字符。例如获得abcd，然后再通过.get()把流里面的第一个字符去掉，赋给str1，这时，cin里储存的流的数据为bcd，而str1则获得了a。当我们再次运行str2
=
cin.get()时，同理把cin里流的数据的b拿出来给了str2，此后，cin里面的流的数据为cd，而str2则为b，所以最后输出时，便能输出ab了。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
还有个补充，究竟什么时候才输入数据呢？我们可以再通过上面的代码进行尝试，我们输入单个字母'a'，然后按回车，发现并没有输出数据，而是再等待一次输入数据，我们再输入字母'b'，按回车后便输出ab了。相信到这里，大家都应该明白了，因为当我们第一次输入a后，通过str1
=
cin.get()使cin里的流没有数据，清空了。所以到第二次要再赋给str2值时，它找不到数据，要重新再输入数据。由此来看可以知道，当cin里的流数据清空时，便需要重新输入才能赋值。而cin.get()还有个用法:</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例三：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span> <font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"><br/>
using namespace std;</font></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">str1;<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">str2;</span></span><br/>
 <span></span> str1 = cin.get(); <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//读取单个字符,在屏幕输入<br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span>
cin.get();</span><br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span> str2 = cin.get();</span><br/>
 <span></span> cout&lt;&lt;str1&lt;&lt;str2&lt;&lt;endl;
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出刚刚载入的单个字符</span><br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;);<br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">运行程序后</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输入：abcd 输出：ac</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
程序中有3个cin.get()，由此可知，当空回调cin.get()时，cin.get便自动在cin中的流数据中删除一个字母，起了一个删除作用。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
对cin.get()有了一定了解之后，对cin.getline()的学习就可以更快了，原理是一致的，但是cin.getline()则是获取一整行文本。以下是cin.getline()原形：<br/>

getline(char *line,int size,char='/n')<br/>
第一个是字符指针，第二个是字符长度，第三个为结束标识符。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例四：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span> <font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"><br/>
using namespace std;</font></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"> <span></span> char str[200];<br/>
 <span></span> cin.getline(str, sizeof(str)); <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//第三个不输入，默认回车为结束标符</span></font></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);"> <span></span></span> <span></span>cout&lt;&lt;str&lt;&lt;endl; <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出</span><br/>
 <span></span> system(&quot;pause&quot;);</font></span><br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">这样我们输入多个英文或数字，然后按回车，就会输出刚刚输出的东西了。接下来，我们讨论第三个参数的作用。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例五：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span> <font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"><br/>
using namespace std;</font></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">str[200];</span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);"><br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span>
cin.getline(str, sizeof(str), 'X');</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//以单个英文字母'X'作为终止标识符</span><br/>
 <span></span> cout&lt;&lt;str&lt;&lt;endl; <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出</span><br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;);<br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">当我们输入多个数字或者字母时,例如<br/>
输入: abcdeX(回车) <span></span> <span></span> 输出:abcde</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">
 <span></span> <span></span> <span></span> <span></span> <span></span>
aXbcde <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>a <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span><br/>

 <span></span> <span></span> <span></span> <span></span> <span></span>
Xabcde <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
这样X便成了终止符，如上可知，当遇到第一个结束符标志时，就结束，输出其前面的所有字符。其原理和cin.get()一样.或许我们可以像cin.get()那样尝试一下:</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例六：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span> <font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"><br/>
using namespace std;</font></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">str1[200];<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> char</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);">str2[200];</span></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);"><br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span> cin.getline(str1, sizeof(str1),
'X');</span> <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//以单个英文字母'X'作为终止标识符<br/></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,0);"> <span></span> cin.getline(str2, sizeof(str2),
'Y'); <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//以单个英文字母'Y'作为终止标识符<br/></span></span></span> <span></span>
cout&lt;&lt;&quot;第一行是:&quot;&lt;&lt;str1&lt;&lt;endl; <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//输出<br/></span> <span></span>
cout&lt;&lt;&quot;第二行是:&quot;&lt;&lt;str2&lt;&lt;endl;<br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;);<br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输入：abcdXXXefghYYYigkl(回车)</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">输出： 第一行是:abcd</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">
 <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
第二行是:XXefgh</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">如上可知，当遇到第一个结束符'X'结束输出abcd，之后遇到第一个结束符'Y'结束输出XXefgh。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
接下来谈谈cin.clear()的作用，第一次看到这东西，很多人以为就是清空cin里面的数据流，而实际上却与此相差甚远，首先看看以下代码：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">例七：</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span><br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">using</span>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">namespace</span> std;<br/>
<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> int</span> a;<br/>
 <span></span> cin&gt;&gt;a;<br/>
 <span></span> cout&lt;&lt;cin.rdstate()&lt;&lt;endl;<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> if</span>(cin.rdstate() ==
ios::goodbit)<br/>
 <span></span> {<br/>
 <span></span> <span></span> <span></span>
cout&lt;&lt;&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">输入数据的类型正确，无错误！</span>&quot;&lt;&lt;endl;<br/>
 <span></span> }<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> if</span>(cin.rdstate() ==
ios_base::failbit)<br/>
 <span></span> {<br/>
 <span></span> <span></span> <span></span>
cout&lt;&lt;&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">输入数据类型错误，非致命错误，可清除输入缓冲区挽回！</span>&quot;&lt;&lt;endl;<br/>
 <span></span> } <span></span><br/>
 <span></span> <span></span>system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;);<br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
我们定义要输入的变量是整型，但如果输入了英文字母或者汉字，那就会发生错误，cin里有个方法能检测这个错误，就是cin.rdstate()。</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
当cin.rdstate()返回0(即ios::goodbit)时表示无错误，可以继续输入或者操作，若返回2则发生非致命错误即ios::failbit，则不能继续输入或操作。而cin.clear()则可以控制我们此时cin里对这个问题的一个标识。语发如下:<br/>

cin.clear(标识符);<br/>
标识符号为:</p>
<ul style="margin:0px;padding:0px;border:0px;list-style:none;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:disc;">goodbit 无错误</li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:disc;">Eofbit 已到达文件尾</li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:disc;">failbit 非致命的输入/输出错误，可挽回</li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:disc;">badbit　致命的输入/输出错误,无法挽回<br/>
若在输入输出类里.需要加ios::标识符号
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">
通过cin.clear，我们能确认它的内部标识符，如果输入错误则能重新输入。结合真正的清空数据流方法cin.sync()，请看下例：</p>
</li>
</ul>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">例八：</span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,128);">#include</span><br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">using</span>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">namespace</span> std;<br/>
<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);">int</span>
main()<br/>
{<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> int</span> a;<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> while</span>(true)<br/>
 <span></span>{<br/>
 <span></span> <span></span> <span></span>
cin&gt;&gt;a; <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> <span></span> <span></span>
if</span>(!cin) <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//条件可改写为cin.fail()</span><br/>
 <span></span> <span></span> <span></span> {<br/>
 <span></span> <span></span> <span></span> <span></span> <span></span>
cout&lt;&lt;&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">输入类型错误，请重新输入！</span>&quot;&lt;&lt;endl;<br/>
 <span></span> <span></span> <span></span> <span></span> <span></span>
cin.clear(); <span></span><span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//复为标志，将cin中的所有标志设置为有效状态</span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;">
 <span></span> <span></span> <span></span> <span></span> <span></span>
cin.sync(); <span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,128,0);">//清空流</span><br/>
 <span></span> <span></span> <span></span> }<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> <span></span> <span></span>
else</span><br/>
 <span></span> <span></span> <span></span> {<br/>
 <span></span> <span></span> <span></span> <span></span> <span></span>
cout&lt;&lt;a&lt;&lt;endl;<br/>
<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(165,42,42);"> <span></span> <span></span> <span></span> <span></span> <span></span>
break</span>;<br/>
 <span></span> <span></span> <span></span> }<br/>
 <span></span> }<br/>
 <span></span> system(&quot;<span style="word-wrap:normal;word-break:normal;line-height:150%;color:rgb(0,0,255);">pause</span>&quot;);<br/>
}</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span></p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"> <span></span> <span></span> <span></span>
上面的cin默认值为非0，当输入为非整形时，它的状态标识符改为fail（即0），再用cin.clear()让错误标识改回为非0，可以继续输入，再清空流数据继续输入。如果没有了cin.clear()，则会进入死循环，其过程为我们输入了英文字母，它的状态标识便为fail，当运行到条件判断时，便总是回到错误的条件表示里，并且再也没有办法输入，因为错误的表示关闭了cin，所以会进入死循环。可以分别注释掉cin.clear()和cin.sync()进行验证。<br/>
</p>
<p style="margin:0px;padding:0px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:150%;margin-bottom:5px;"><br/></p>
<div style="line-height:21px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:150%;"><b>注：</b></font></div>
<div style="line-height:21px;"><font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"> <span></span>
 <span></span> <span></span></font>技术在于交流、沟通，转载请注明出处并保持作品的完整性。</div>
<div style="line-height:21px;"><font color="#000000" style="word-wrap:normal;word-break:normal;line-height:150%;"> <span></span>
 <span></span> <span></span></font><span style="word-wrap:normal;word-break:normal;line-height:21px;">作者：</span><a href="http://blog.sina.com.cn/liang19890820" style="color:rgb(82, 102, 115);text-decoration:none;" target="_blank">╰☆奋斗ing❤孩子`</a> <span></span> <span></span><span style="word-wrap:normal;word-break:normal;line-height:21px;">原文：</span><a href="http://blog.sina.com.cn/s/blog_a6fb6cc90101bg1n.html" style="color:rgb(82, 102, 115);text-decoration:none;">http://blog.sina.com.cn/s/blog_a6fb6cc90101bg1n.html</a>。</div>							
		</div></div></div></div></div></div></div></div></div></div></div><br/></span>
</div></body></html> 